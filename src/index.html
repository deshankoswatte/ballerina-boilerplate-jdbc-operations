<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <meta content="utf-8" http-equiv="encoding" />
  </head>
  <body>
    <script lang="javascript">

      function postData() {

      	var student = {};
      	student.id = document.getElementById("studentId").value;
      	student.fullName = document.getElementById("fullName").value;
      	student.age = document.getElementById("age").value;
      	student.address = document.getElementById("address").value;

      	var studentObj = { student };

      	console.log(JSON.stringify(student));

      	var xhttp = new XMLHttpRequest();
      	xhttp.onreadystatechange = function() {
      		document.getElementById("response").innerHTML = this.responseText;
      	};
      	xhttp.open("POST", "http://localhost:9090/student/insertStudent" , true);
      	xhttp.send(JSON.stringify(studentObj));
      }
    </script>

    <h2>Student Registration Service</h2>

    <form>
      Id:<br />
      <input type="text" name="studentId" id="studentId" />
      <br />

      Fullname:<br />
      <input type="text" name="fullName" id="fullName" />
      <br />

      Age:<br />
      <input type="text" name="age" id="age" />
      <br />

      Address:<br />
      <input type="text" name="address" id="address" />
      <br /><br />
      <input type="button" value="Submit" onclick="postData()" />
    </form>

    <p>
      If you click the "Submit" button, the form-data will be sent to a
      ballerina backend service to be persisted
    </p>

    <label id="response"></label>
  </body>
</html>
